<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlphaMiner - æ·±åº¦æŠ•ç ”æ—¥æŠ¥</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ä¸­æ–‡å­—ä½“ä¼˜åŒ– -->
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; background-color: #f8fafc; }
        [v-cloak] { display: none; }
        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
    </style>
</head>
<body>
    <div id="app" class="max-w-6xl mx-auto px-4 py-8" v-cloak>
        
        <!-- å¤´éƒ¨ -->
        <div class="flex flex-col md:flex-row justify-between items-end mb-8 border-b border-slate-200 pb-4">
            <div>
                <h1 class="text-4xl font-extrabold text-slate-900 tracking-tight">AlphaMiner <span class="text-indigo-600">Pro</span></h1>
                <p class="text-slate-500 mt-2 font-medium">æ”¿ç­–é©±åŠ¨ Â· åŸºæœ¬é¢é‡åŒ– Â· ä»·å€¼æŒ–æ˜</p>
            </div>
            <div class="text-right mt-4 md:mt-0">
                <div class="inline-block bg-indigo-50 text-indigo-700 px-4 py-1 rounded-full text-sm font-bold border border-indigo-100">
                    ğŸ“… {{ report.date }}
                </div>
            </div>
        </div>

        <div v-if="loading" class="py-20 text-center">
            <div class="inline-block w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mb-4"></div>
            <p class="text-slate-400">æ­£åœ¨ä»äº‘ç«¯åŒæ­¥æœ€æ–°æŒ–æ˜æ•°æ®...</p>
        </div>

        <div v-else>
            <!-- ç­›é€‰å™¨ (ä¿®å¤äº†ç‚¹å‡»é—®é¢˜) -->
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-4 mb-6 sticky top-4 z-20">
                <div class="flex items-center space-x-2 overflow-x-auto pb-1">
                    <span class="text-sm font-bold text-slate-400 whitespace-nowrap mr-2">ğŸ¯ è¡Œä¸šèšç„¦:</span>
                    
                    <button 
                        @click="currentFilter = 'All'"
                        :class="currentFilter === 'All' ? 'bg-slate-900 text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200'"
                        class="px-4 py-1.5 rounded-full text-sm font-medium transition-all whitespace-nowrap">
                        å…¨éƒ¨
                    </button>

                    <button 
                        v-for="ind in report.industries" 
                        :key="ind"
                        @click="currentFilter = ind"
                        :class="currentFilter === ind ? 'bg-indigo-600 text-white shadow-md shadow-indigo-200' : 'bg-white border border-slate-200 text-slate-600 hover:border-indigo-300 hover:text-indigo-600'"
                        class="px-4 py-1.5 rounded-full text-sm font-medium transition-all whitespace-nowrap">
                        {{ ind }}
                    </button>
                </div>
                <!-- æ‘˜è¦æ˜¾ç¤º -->
                <div class="mt-3 pt-3 border-t border-slate-100 text-sm text-slate-500 flex items-center">
                    <svg class="w-4 h-4 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    {{ report.summary }}
                </div>
            </div>

            <!-- è‚¡ç¥¨å¡ç‰‡åˆ—è¡¨ -->
            <div class="space-y-4">
                <div v-for="stock in filteredStocks" :key="stock.code" class="bg-white rounded-xl shadow-sm border border-slate-200 hover:shadow-lg transition-shadow duration-300 overflow-hidden">
                    
                    <!-- å¡ç‰‡å¤´éƒ¨ï¼šåŸºæœ¬ä¿¡æ¯ -->
                    <div class="bg-slate-50 px-6 py-4 flex flex-col md:flex-row justify-between md:items-center border-b border-slate-100">
                        <div class="flex items-center gap-4">
                            <div>
                                <h3 class="text-xl font-bold text-slate-800">{{ stock.name }} <span class="text-sm font-normal text-slate-400 ml-1">{{ stock.code }}</span></h3>
                            </div>
                            <span class="px-2 py-0.5 rounded text-xs font-semibold bg-white border border-slate-200 text-slate-600">
                                {{ stock.industry }}
                            </span>
                            <span class="px-2 py-0.5 rounded text-xs font-semibold bg-red-50 text-red-600 border border-red-100">
                                {{ stock.policy_tag }}
                            </span>
                        </div>
                        <div class="mt-2 md:mt-0 flex gap-6 text-sm">
                            <div>PE(åŠ¨): <span class="font-bold text-slate-800">{{ stock.pe }}</span></div>
                            <div>å¸‚å€¼: <span class="font-bold text-slate-800">{{ stock.market_cap }}</span></div>
                            <div>ç°ä»·: <span class="font-bold text-slate-800">{{ stock.price }}</span></div>
                        </div>
                    </div>

                    <!-- å¡ç‰‡ä¸»ä½“ï¼šåŒæ å¸ƒå±€ -->
                    <div class="p-6 grid grid-cols-1 md:grid-cols-3 gap-6">
                        
                        <!-- å·¦ä¾§ï¼šæ”¿ç­–é€»è¾‘ (1/3 å®½åº¦) -->
                        <div class="col-span-1 border-r border-slate-100 pr-0 md:pr-6">
                            <h4 class="text-xs font-bold text-slate-400 uppercase mb-2">ğŸ” å‘½ä¸­æ”¿ç­–</h4>
                            <p class="font-bold text-indigo-900 mb-2 leading-snug">{{ stock.policy_title }}</p>
                            <a :href="stock.policy_url" target="_blank" class="inline-flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium hover:underline">
                                é˜…è¯»å®˜æ–¹åŸæ–‡ 
                                <svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>
                            </a>
                        </div>

                        <!-- å³ä¾§ï¼šå…¬å¸æ·±åº¦ & è´¢åŠ¡ (2/3 å®½åº¦) -->
                        <div class="col-span-1 md:col-span-2">
                            <div class="mb-4">
                                <h4 class="text-xs font-bold text-slate-400 uppercase mb-1">ğŸ¢ å…¬å¸ç®€ä»‹</h4>
                                <p class="text-sm text-slate-600 leading-relaxed">{{ stock.profile_highlight }}</p>
                            </div>
                            <div class="bg-indigo-50/50 rounded-lg p-3 border border-indigo-100">
                                <h4 class="text-xs font-bold text-indigo-400 uppercase mb-1">ğŸ“Š ä¸‰å¹´åŸºæœ¬é¢é€è§†</h4>
                                <p class="text-sm text-slate-700 leading-relaxed font-medium">
                                    {{ stock.analysis }}
                                </p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- ç©ºçŠ¶æ€æç¤º -->
            <div v-if="filteredStocks.length === 0" class="text-center py-12 bg-white rounded-xl border border-dashed border-slate-300">
                <p class="text-slate-400">å½“å‰ç­›é€‰æ¡ä»¶ä¸‹æš‚æ— æ•°æ®ï¼Œè¯·åˆ‡æ¢å…¨éƒ¨æŸ¥çœ‹ã€‚</p>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue
        createApp({
            data() {
                return {
                    loading: true,
                    currentFilter: 'All',
                    report: { stocks: [], industries: [], summary: "" }
                }
            },
            computed: {
                filteredStocks() {
                    if (this.currentFilter === 'All') {
                        return this.report.stocks;
                    }
                    return this.report.stocks.filter(s => s.industry === this.currentFilter);
                }
            },
            mounted() {
                fetch('data.json?t=' + new Date().getTime())
                    .then(res => res.json())
                    .then(data => {
                        this.report = data;
                        this.loading = false;
                    })
                    .catch(e => console.error("Data load failed", e))
            }
        }).mount('#app')
    </script>
</body>
</html>
